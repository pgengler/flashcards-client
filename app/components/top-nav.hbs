<BsNavbar as |navbar|>
  <div class="navbar-header">
    <LinkTo @route="index" class="navbar-brand">
      Flashcards
    </LinkTo>
  </div>
  <navbar.content>
    <navbar.nav as |nav|>
      <nav.dropdown as |dd|>
        <dd.toggle data-test-collections-toggle>
          Collections
        </dd.toggle>
        <dd.menu data-test-collections-menu as |menu|>
          {{#each this.collections as |collection|}}
            <menu.item>
              <menu.linkTo @route="collection" @model={{collection.slug}} data-test-collection-item>
                {{collection.name}}
              </menu.linkTo>
            </menu.item>
          {{/each}}
          <menu.item @disabled={{true}}><hr></menu.item>
          <menu.item>
            <menu.linkTo @route="collections.new" data-test-new-collection-item>
              Add new collection
            </menu.linkTo>
          </menu.item>
        </dd.menu>
      </nav.dropdown>

      {{#if this.currentCollection}}
        <nav.item>
          <nav.linkTo @route="collection.card.new" @model={{this.currentCollection.slug}}>
            New
          </nav.linkTo>
        </nav.item>

        <nav.dropdown data-test-random-card as |dd|>
          <dd.toggle>
            Random
          </dd.toggle>
          <dd.menu as |menu|>
            <menu.item>
              <menu.linkTo @route="collection.card.random" @model={{this.currentCollection.slug}} @query={{hash side="front"}}>
                Random front
              </menu.linkTo>
            </menu.item>
            <menu.item>
              <menu.linkTo @route="collection.card.random" @model={{this.currentCollection.slug}} @query={{hash side="back"}}>
                Random back
              </menu.linkTo>
            </menu.item>
            <menu.item>
              <menu.linkTo @route="collection.card.random" @model={{this.currentCollection.slug}} @query={{hash side=""}}>
                Random front or back
              </menu.linkTo>
            </menu.item>
          </dd.menu>
        </nav.dropdown>

        <nav.item data-test-card-sets>
          <nav.linkTo @route="card-sets.new">
            New set
          </nav.linkTo>
        </nav.item>
        {{/if}}
    </navbar.nav>
  </navbar.content>
</BsNavbar>
